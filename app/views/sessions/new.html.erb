<% content_for :title, "Login" %>

<div class="mx-auto w-sm">
  <% if alert = flash[:alert] %>
  <div role="alert" class="alert alert-error mb-4">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 shrink-0 stroke-current" fill="none" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" />
    </svg>
    <span><%= alert %></span>
  </div>
  <% end %>

  <% if notice = flash[:notice] %>
  <div role="alert" class="alert alert-success mb-4">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 shrink-0 stroke-current" fill="none" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
    </svg>
    <span><%= notice %></span>
  </div>
  <% end %>

  <h1 class="font-bold text-4xl">Login</h1>

  <%= form_with url: login_path, class: "contents" do |form| %>
  <div class="my-5">
    <%= form.email_field :email_address, required: true, autofocus: true, autocomplete: "username", placeholder: "Enter your email address", value: params[:email_address], class: "block shadow-sm rounded-md border border-gray-400 focus:outline-blue-600 px-3 py-2 mt-2 w-full" %>
  </div>

  <div class="my-5">
    <%= form.password_field :password, required: true, autocomplete: "current-password", placeholder: "Enter your password", maxlength: 72, class: "block shadow-sm rounded-md border border-gray-400 focus:outline-blue-600 px-3 py-2 mt-2 w-full" %>
  </div>

  <div class="sm:flex flex-col sm:items-center sm:gap-4">
    <%= form.submit "Login", class: "btn btn-primary btn-block" %>

    <%= link_to "Don't have account?", signup_path, class: "btn btn-secondary btn-block" %>

    <span>or login with</span>

    <%= link_to google_oauth2_path, class: "btn btn-secondary btn-block" do %>
    <div class="flex gap-2 items-center">
      <%= image_tag "https://upload.wikimedia.org/wikipedia/commons/thumb/c/c1/Google_%22G%22_logo.svg/768px-Google_%22G%22_logo.svg.png", size: "20x20", alt: "Google" %>
      Google
    </div>
    <% end %>

    <div class="mt-4 text-sm text-gray-500 sm:mt-0">
      <%= link_to "Forgot password?", new_password_path, class: "text-slate-200 underline hover:no-underline" %>
    </div>
  </div>
  <% end %>
</div>